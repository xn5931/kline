{"version":3,"sources":["../src/db.js"],"names":["pool","mysql","createPool","host","user","password","database","sql","values","Promise","resolve","reject","getConnection","err","connection","query","rows","release"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,OAAOC,gBAAMC,UAAN,CAAiB;AAC7BC,OAAM,WADuB;AAE7BC,OAAM,MAFuB;AAG7BC,WAAU,QAHmB;AAI7BC,WAAU;AAJmB,CAAjB,CAAb;;kBAOe,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC/B,QAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvCX,OAAKY,aAAL,CAAmB,UAACC,GAAD,EAAMC,UAAN,EAAqB;AACvC,OAAID,GAAJ,EAAS;AACRF,WAAOE,GAAP;AACA,IAFD,MAEO;AACNC,eAAWC,KAAX,CAAiBR,GAAjB,EAAsBC,MAAtB,EAA8B,UAACK,GAAD,EAAMG,IAAN,EAAe;AAC5C,SAAIH,GAAJ,EAAS;AACRF,aAAOE,GAAP;AACA,MAFD,MAEO;AACNH,cAAQM,IAAR;AAEA;AACDF,gBAAWG,OAAX;AACA,KARD;AASA;AACD,GAdD;AAeA,EAhBM,CAAP;AAiBA,C","file":"db.js","sourcesContent":["import mysql from 'mysql'\n\nconst pool = mysql.createPool({\n\thost: 'localhost',\n\tuser: 'root',\n\tpassword: '123456',\n\tdatabase: 'im_k_data'\n})\n\nexport default (sql, values) => {\n\treturn new Promise((resolve, reject) => {\n\t\tpool.getConnection((err, connection) => {\n\t\t\tif (err) {\n\t\t\t\treject(err)\n\t\t\t} else {\n\t\t\t\tconnection.query(sql, values, (err, rows) => {\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\treject(err)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(rows)\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tconnection.release()\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t})\n}"]}