{"version":3,"sources":["../../src/api/index.js"],"names":["klineController","require","symbolController","monitorController","coinmarketcapController","test","config","db","router","id","get","req","res","json","insertKlineData","getSymbolData","pushSymbolData","monitor","kline","getData","listLatest"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAIA,kBAAkBC,QAAQ,gCAAR,CAAtB;AACA,IAAIC,mBAAmBD,QAAQ,iCAAR,CAAvB;AACA,IAAIE,oBAAoBF,QAAQ,kCAAR,CAAxB;AACA,IAAIG,0BAA0BH,QAAQ,wCAAR,CAA9B;AACA,IAAII,OAAOJ,QAAQ,+BAAR,CAAX;;kBAEe,gBAAoB;AAAA,QAAjBK,MAAiB,QAAjBA,MAAiB;AAAA,QAATC,EAAS,QAATA,EAAS;;AAC/B;AACA,QAAIC,SAAS,wCAAS,EAACC,IAAG,KAAJ,EAAT,CAAb;AACA;AACAD,WAAOE,GAAP,CAAW,OAAX,EAAoB,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAACA,YAAIC,IAAJ,CAAS,gBAAT;AAA4B,KAApE;AACA;AACAL,WAAOE,GAAP,CAAW,mBAAX,EAAgC,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAACZ,wBAAgBc,eAAhB,CAAgCH,GAAhC,EAAoCC,GAApC;AAA0C,KAA9F;AACA;AACAJ,WAAOE,GAAP,CAAW,+BAAX,EAA4C,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAACV,yBAAiBa,aAAjB,CAA+BJ,GAA/B,EAAmCC,GAAnC;AAAyC,KAAzG;AACA;AACAJ,WAAOE,GAAP,CAAW,4BAAX,EAAyC,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAACV,yBAAiBc,cAAjB,CAAgCL,GAAhC,EAAoCC,GAApC;AAA0C,KAAvG;AACA;AACAJ,WAAOE,GAAP,CAAW,oBAAX,EAAiC,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAAET,0BAAkBc,OAAlB,CAA0BN,GAA1B,EAA8BC,GAA9B;AAAoC,KAA1F;AACA;AACAJ,WAAOE,GAAP,CAAW,iBAAX,EAA8B,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAAEP,aAAKa,KAAL,CAAWP,GAAX,EAAeC,GAAf;AAAqB,KAAxE;AACA;AACAJ,WAAOE,GAAP,CAAW,mBAAX,EAAgC,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAAET,0BAAkBgB,OAAlB,CAA0BR,GAA1B,EAA8BC,GAA9B;AAAoC,KAAzF;AACA;AACAJ,WAAOE,GAAP,CAAW,sCAAX,EAAmD,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAAER,gCAAwBgB,UAAxB,CAAmCT,GAAnC,EAAuCC,GAAvC;AAA6C,KAArH;AACA;AACAJ,WAAOE,GAAP,CAAW,yBAAX,EAAsC,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAAER,gCAAwBe,OAAxB,CAAgCR,GAAhC,EAAoCC,GAApC;AAA0C,KAArG;;AAEA;AACA,WAAOJ,MAAP;AACH,C","file":"index.js","sourcesContent":["import resource from 'resource-router-middleware';\nvar klineController = require('../controllers/klineController');\nvar symbolController = require('../controllers/symbolController');\nvar monitorController = require('../controllers/monitorController');\nvar coinmarketcapController = require('../controllers/coinmarketcapController');\nvar test = require('../controllers/testController');\n\nexport default ({ config, db }) => {\n    //functions:load,index,create,read,update,delete \n    var router = resource({id:'api'},);\n    //...api\n    router.get('/:id/', function (req,res) {res.json(\"net connection\");});\n    //...api/kline/insert(插入k线数据)--pass\n    router.get('/:id/kline/insert', function (req,res) {klineController.insertKlineData(req,res);});\n    //...api/kline/insert(insert交易对数据)--pass\n    router.get('/:id/symbol/insert/latestData', function (req,res) {symbolController.getSymbolData(req,res);});\n    //...api/symbol/latestData/get(get交易对数据)--pass\n    router.get('/:id/symbol/latestData/get', function (req,res) {symbolController.pushSymbolData(req,res);});\n    //...api/kline/monitor(监测数据)--pass\n    router.get('/:id/kline/monitor', function (req,res) { monitorController.monitor(req,res);});\n    //测试单元(k线)\n    router.get('/:id/test/kline', function (req,res) { test.kline(req,res);});\n    //查--monitor\n    router.get('/:id/monitor/data', function (req,res) { monitorController.getData(req,res);});\n    //coinmarketcap--插入最新的币种列表数据\n    router.get('/:id/coinmarketcap/listLatest/insert', function (req,res) { coinmarketcapController.listLatest(req,res);});\n    //查--coinmarketcap\n    router.get('/:id/coinmarketcap/data', function (req,res) { coinmarketcapController.getData(req,res);});\n    \n    //返回\n    return router;\n}\n\n\n\n\n"]}